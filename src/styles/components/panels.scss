@use "../variables";
@use "../mixins";
@use "sass:map";
@use "sass:color";

.panel {
  border-radius: 12px;
  background: variables.$colour-white;
  border: 1px solid variables.$colour-feint-border;
  padding: 1rem;

  &--clickable {
    @include mixins.clickable-panel-border(variables.$colour-feint-border);
    @include mixins.clickable-panel(variables.$colour-orange);
  }
}

.action-panel {
  @extend .panel;
  display: flex;
  gap: 1rem;
  align-items: center;
}

$clickable-action-panels: (
  "instagram": (
    colour: variables.$colour-instagram,
    text: variables.$colour-text,
  ),
  "facebook": (
    colour: variables.$colour-facebook,
    text: variables.$colour-text,
  ),
  "threads": (
    colour: variables.$colour-threads,
    text: variables.$colour-text,
  ),
  "default": (
    colour: variables.$colour-orange,
    text: variables.$colour-text,
  ),
);

@each $variant, $clickable-action-panel-values in $clickable-action-panels {
  $background-colour: map.get($clickable-action-panel-values, colour);
  $text-colour: map.get($clickable-action-panel-values, text);

  .clickable-action-panel {
    @include mixins.flex-wrap-item;
    @include mixins.flex-column-center;
    height: 8.5rem;
    gap: 0.5rem;
    aspect-ratio: 1/1;
    padding: 0.75rem;
    box-sizing: border-box;
    cursor: pointer;
    border: 0;
    border-radius: 12px;
    color: $text-colour;
    text-decoration: unset;
    font-size: 2rem;
    transition: all 0.2s ease;
    @media screen and (max-width: variables.$breakpoint-m) {
      padding: 1rem;
      gap: 0.75rem;
      &:active {
        transform: scale(0.98);
        transition: transform 0.1s ease;
      }
    }
    &:focus {
      outline: none;
      border: 2px solid $background-colour;
    }
    &:hover {
      background-color: variables.$colour-tan;
      transform: translateY(-2px);
    }
    &--#{$variant} {
      background-color: rgba($background-colour, 0.1);
      @include mixins.clickable-panel($background-colour);
    }
    &__text {
      font-size: 1rem;
      font-weight: variables.$font-weight-medium;
      text-align: center;
      line-height: 1.3;
      word-break: break-word;
      hyphens: auto;
      @media screen and (max-width: variables.$breakpoint-m) {
        font-size: 1.1rem;
        line-height: 1.4;
      }
    }
  }
}

.clickable-action-panel-group {
  @include mixins.flex-wrap;
}
